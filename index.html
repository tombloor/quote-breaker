<html>
    <head>
        <title>Quote Breaker</title>
        <style type='text/css'>
            [v-cloak] { display:none; }
        </style>
    <body>
        <div id='app' v-cloak>
            <p>{{ quote }}</p>
            <p><i>{{ author }}</i></p>
        </div>

        <script type='text/javascript' src="scripts/vue.js"></script> 
        <script type='text/javascript'>
            let quotes_url = 'https://api.quotable.io/random';
            var app = new Vue({
                el: '#app',
                data: {
                    quote: 'Loading quote...',
                    author: ''
                },
                async mounted() {
                    let response = await fetch(quotes_url);
                    if(response.ok) {
                        quote_json = await response.json();
                        this.quote = quote_json.content;
                        this.author = quote_json.author;
                    } else {
                        alert('Couldnt load a quote');
                    }
                }
            })
        </script>
    </body>
</html>
